{"ast":null,"code":"import _slicedToArray from\"/Users/akinyemi/Desktop/tazwizinc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Button,Card,FormControl,FormGroup,Form}from'react-bootstrap';import{UserContext}from'../context/UsersContext';import axios from'axios';var Login=function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errMsg=_useState6[0],setErrMsg=_useState6[1];var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),isAuth=_useContext2[0],setIsAuth=_useContext2[1];//handle when login is clicked\nvar onLogin=function onLogin(e){e.preventDefault();axios.post('/api/authUsers',{email:email,password:password}).then(function(res){if(res.data.users){setIsAuth(res.data.users.status);localStorage.setItem('authToken',res.data.token);localStorage.setItem('isAuth',res.data.users.status);console.log(res.data.token);props.history.push('/dashboard');}setErrMsg(\"Invalid information Entered\");// setUsers(res.data)\n}).catch(function(err){setErrMsg(\"Invalid information Entered\");;});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,{style:{marginTop:'14%',width:'50%',marginRight:'15%',marginLeft:'25%'}},/*#__PURE__*/React.createElement(Form,{id:\"FormCSS\",onSubmit:onLogin},/*#__PURE__*/React.createElement(\"label\",null,\"Login Form\"),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormControl,{type:\"email\",name:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormControl,{type:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})),/*#__PURE__*/React.createElement(\"p\",null,errMsg),/*#__PURE__*/React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",type:\"submit\"},\"Login\"))));};export default Login;","map":{"version":3,"sources":["/Users/akinyemi/Desktop/tazwizinc/client/src/components/Login.js"],"names":["React","useState","useContext","Button","Card","FormControl","FormGroup","Form","UserContext","axios","Login","props","email","setEmail","password","setPassword","errMsg","setErrMsg","isAuth","setIsAuth","onLogin","e","preventDefault","post","then","res","data","users","status","localStorage","setItem","token","console","log","history","push","catch","err","marginTop","width","marginRight","marginLeft","target","value"],"mappings":"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","sourcesContent":["import React, {useState,useContext} from 'react'\nimport { Button,Card,FormControl,FormGroup,Form} from 'react-bootstrap';\nimport {UserContext} from '../context/UsersContext'\n\nimport axios from 'axios'\n const Login = (props) => {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [errMsg, setErrMsg] = useState('')\n    const [isAuth, setIsAuth] = useContext(UserContext)\n    \n    //handle when login is clicked\n    const onLogin = (e) => {\n        e.preventDefault();\n        axios.post('/api/authUsers',{email, password})\n            .then(res => { \n               if(res.data.users){\n                    setIsAuth(res.data.users.status)\n                    localStorage.setItem('authToken', res.data.token)\n                    localStorage.setItem('isAuth', res.data.users.status)\n                    console.log(res.data.token)\n                    props.history.push('/dashboard')\n                }\n                setErrMsg(\"Invalid information Entered\");\n           // setUsers(res.data)\n            }).catch(err =>{  setErrMsg(\"Invalid information Entered\");;\n        })\n    }\n\n    return (\n        <div>\n            <Card style={{ marginTop:'14%', width: '50%', marginRight:'15%',  marginLeft:'25%'  }}>\n                <Form id=\"FormCSS\" onSubmit={onLogin}> \n                    <label>Login Form</label>\n                    <FormGroup>\n                        <FormControl type=\"email\" name=\"email\" placeholder=\"Enter email\" value={email} onChange={(e) => setEmail(e.target.value)} required/>\n                    </FormGroup>\n\n                    <FormGroup>\n                        <FormControl type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required/>\n                    </FormGroup>\n                    <p>{errMsg}</p>\n                    <Button variant=\"outline-primary\" size=\"lg\" type=\"submit\" >\n                        Login\n                    </Button>\n\n                </Form>\n                {/* { !isLoggedIn ? null : <Redirect to=\"/dashboard\" /> } */}\n            </Card>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}