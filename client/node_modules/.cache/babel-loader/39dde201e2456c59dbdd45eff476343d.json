{"ast":null,"code":"import _slicedToArray from\"/Users/akinyemi/Desktop/tazwizinc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{ProductContext}from'../context/ProductContext';import{Container,Button,Table}from'react-bootstrap';import AddProduct from'../components/AddProduct';import MenuBar from'../components/MenuBar';import Moment from'react-moment';import axios from'axios';var Products=function Products(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),productInfo=_useState2[0],setProductInfo=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),editing=_useState8[0],SetEditing=_useState8[1];var _useContext=useContext(ProductContext),_useContext2=_slicedToArray(_useContext,2),product=_useContext2[0],setProduct=_useContext2[1];var _useContext3=useContext(ProductContext),_useContext4=_slicedToArray(_useContext3,2),getPrice=_useContext4[0],SetGetPrice=_useContext4[1];//delete product when remove is clicked\nvar deleteProduct=function deleteProduct(id){axios.delete('/api/products/'+id).then(function(res){console.log(res);}).catch(function(err){console.error(err);});};//save the data once the save button is clicked\nvar SaveProduct=function SaveProduct(pID){SetEditing(false);if(price!=''){if(!isNaN(price)){axios.patch('/api/products/'+pID,{ProductPrice:price}).then(function(res){console.log(res);}).catch(function(err){return console.log(err);});}else{alert(\"Please Enter a Number\");}}else{return;}};//sets edit mode\nvar EditProduct=function EditProduct(id){SetEditing(function(editing){return!editing;});};return/*#__PURE__*/React.createElement(Container,{className:\"container\",id:\"dataDiv\",fluid:true},/*#__PURE__*/React.createElement(MenuBar,null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"pb-2\"},\"Add Product\"),/*#__PURE__*/React.createElement(AddProduct,null)),/*#__PURE__*/React.createElement(\"h2\",{className:\"pt-5\"},\"Products\"),/*#__PURE__*/React.createElement(\"p\",null,\"Edit mode \",editing.toString(),\" \"),/*#__PURE__*/React.createElement(Table,{Table:true,striped:true,hover:true,className:\"mb-0\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ProductName\"),/*#__PURE__*/React.createElement(\"th\",null,\"ProductPrice (CAD)\"),/*#__PURE__*/React.createElement(\"th\",null,\"ProductDescription\"),/*#__PURE__*/React.createElement(\"th\",null,\"ProductCreatedDate\"),/*#__PURE__*/React.createElement(\"th\",null,\"Update\"),/*#__PURE__*/React.createElement(\"th\",null,\"Delete\"))),product.map(function(_ref){var _id=_ref._id,productName=_ref.productName,ProductPrice=_ref.ProductPrice,ProductDescription=_ref.ProductDescription,ProductCreatedDate=_ref.ProductCreatedDate;return/*#__PURE__*/React.createElement(\"tbody\",{key:_id},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{contenteditable:editing,onInput:function onInput(e){return setName(e.target.innerText);}},productName),/*#__PURE__*/React.createElement(\"td\",{contenteditable:\"true\",type:\"number\",onInput:function onInput(e){return setPrice(e.target.innerText);}},ProductPrice),/*#__PURE__*/React.createElement(\"td\",null,ProductDescription),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Moment,{format:\"YYYY-MM-DD\"},ProductCreatedDate)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-primary\",size:\"sm\",onClick:function onClick(){return editing?SaveProduct(_id):EditProduct(_id);}},editing===false?'Edit Price':'Save')),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-danger\",size:\"sm\",onClick:function onClick(){return deleteProduct(_id);}},\"Remove\"))));})));};export default Products;","map":{"version":3,"sources":["/Users/akinyemi/Desktop/tazwizinc/client/src/components/Products.js"],"names":["React","useContext","useState","ProductContext","Container","Button","Table","AddProduct","MenuBar","Moment","axios","Products","productInfo","setProductInfo","name","setName","price","setPrice","editing","SetEditing","product","setProduct","getPrice","SetGetPrice","deleteProduct","id","delete","then","res","console","log","catch","err","error","SaveProduct","pID","isNaN","patch","ProductPrice","alert","EditProduct","toString","map","_id","productName","ProductDescription","ProductCreatedDate","e","target","innerText"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\nimport {ProductContext} from '../context/ProductContext'\nimport {Container,Button, Table} from 'react-bootstrap'\nimport AddProduct from '../components/AddProduct';\nimport MenuBar from '../components/MenuBar';\nimport Moment from 'react-moment';\nimport axios from 'axios'\nconst Products = () => {\n   const [productInfo, setProductInfo] = useState({})\n   const [name, setName] = useState('');\n   const [price, setPrice] = useState('');  \n   const [editing, SetEditing] = useState(false)\n   const [product, setProduct] = useContext(ProductContext)\n   const [getPrice, SetGetPrice] = useContext(ProductContext)\n\n    //delete product when remove is clicked\n   const deleteProduct = (id) => {\n       axios.delete('/api/products/'+id)\n            .then(res => {\n                console.log(res)\n            })\n            .catch(err =>{ \n                console.error(err);\n        })\n    }\n\n    //save the data once the save button is clicked\n    const SaveProduct = (pID) => {\n        SetEditing(false);\n        if(price != '' ){\n            if(!isNaN(price)){\n                axios.patch('/api/products/'+ pID, {ProductPrice: price})\n                .then(res => { \n                    console.log(res)\n                })\n                .catch(err => console.log(err))\n            }else{\n                alert(\"Please Enter a Number\")\n            }\n         }else{\n            return;\n         }\n        }\n   \n     //sets edit mode\n    const EditProduct = (id) => {\n        SetEditing( editing => !editing);\n     }\n\n    return (\n        <Container className=\"container\" id=\"dataDiv\" fluid>\n             <MenuBar />\n             <div>\n                 <h2 className=\"pb-2\">Add Product</h2>\n                <AddProduct />\n             </div>\n             <h2 className=\"pt-5\">Products</h2>\n             <p>Edit mode {editing.toString()} </p>\n            <Table Table striped hover className=\"mb-0\">\n                <thead>\n                    <tr>\n                        <th>ProductName</th>\n                        <th>ProductPrice (CAD)</th>\n                        <th>ProductDescription</th>\n                        <th>ProductCreatedDate</th>\n                        <th>Update</th>\n                        <th>Delete</th>\n                    </tr>\n                </thead>\n                {product.map(({_id, productName, ProductPrice, ProductDescription, ProductCreatedDate}) => (\n                    <tbody key={_id}>\n                        <tr> \n                            <td contenteditable={editing} onInput={(e) => setName(e.target.innerText)} >\n                                {productName}\n                            </td>\n                            <td contenteditable=\"true\" type={\"number\"} onInput={(e) => setPrice(e.target.innerText)}>\n                                {/* {editing ?  <input value ={ProductPrice} type={\"number\"} onChange={(e) => setPrice(e.target.price)}/> : ProductPrice } */}\n                                    {/* <input value ={price} type={\"number\"} onChange={(e) => setPrice(e.target.price)}/> */}\n                                {ProductPrice}\n                            </td>\n                            <td>\n                                {ProductDescription}\n                            </td>\n                            <td>\n                                    <Moment format=\"YYYY-MM-DD\">{ProductCreatedDate}</Moment> \n                            </td>\n                            <td>\n                                <Button variant=\"outline-primary\" size=\"sm\" onClick={() => editing ? SaveProduct(_id): EditProduct(_id)}>\n                                   { editing === false ?  'Edit Price': 'Save' }\n                                </Button>\n                            </td>\n                            <td>\n                                <Button variant=\"outline-danger\" size=\"sm\" onClick={() => deleteProduct(_id)}>\n                                    Remove\n                                </Button>\n                            </td>\n                        </tr>\n                    </tbody>                                \n                ))}\n            </Table>\n        </Container>\n  \n    )\n}\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}