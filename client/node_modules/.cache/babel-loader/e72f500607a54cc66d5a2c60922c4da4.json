{"ast":null,"code":"var _jsxFileName = \"/Users/akinyemi/Desktop/tazwizinc/client/src/components/Products.js\";\nimport React, { useContext, useState } from 'react';\nimport { ProductContext } from '../context/ProductContext';\nimport { Container, Button, Table } from 'react-bootstrap';\nimport AddProduct from '../components/AddProduct';\nimport MenuBar from '../components/MenuBar';\nimport Moment from 'react-moment';\nimport axios from 'axios';\n\nconst Products = () => {\n  const [productInfo, setProductInfo] = useState({});\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [editing, SetEditing] = useState(false);\n  const [product, setProduct] = useContext(ProductContext); //delete product when remove is clicked\n\n  const deleteProduct = id => {\n    axios.delete('/api/products/' + id).then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.error(err);\n    });\n  }; //save the data once the save button is clicked\n\n\n  const SaveProduct = pID => {\n    SetEditing(false);\n    console.log();\n\n    if (price != '') {\n      axios.patch('/api/products/' + pID, {\n        ProductPrice: price\n      }).then(res => {\n        console.log(res);\n      }).catch(err => console.log(err));\n    }\n  }; //sets edit mode\n\n\n  const EditProduct = id => {\n    SetEditing(editing => !editing);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"container\",\n    id: \"dataDiv\",\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"pb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 18\n    }\n  }, \"Add Product\"), /*#__PURE__*/React.createElement(AddProduct, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 14\n    }\n  }, \"Products\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 14\n    }\n  }, \"Edit mode \", editing.toString(), \" \"), /*#__PURE__*/React.createElement(Table, {\n    Table: true,\n    striped: true,\n    hover: true,\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, \"ProductName\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"ProductPrice (CAD)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"ProductDescription\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"ProductCreatedDate\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"Delete\"))), product.map(({\n    _id,\n    productName,\n    ProductPrice,\n    ProductDescription,\n    ProductCreatedDate\n  }) => /*#__PURE__*/React.createElement(\"tbody\", {\n    key: _id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    contenteditable: editing,\n    onInput: e => setName(e.target.innerText),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, productName), /*#__PURE__*/React.createElement(\"td\", {\n    onInput: e => setPrice(e.target.innerText),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: price,\n    type: \"number\",\n    onChange: e => setPrice(e.target.price),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, ProductDescription), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Moment, {\n    format: \"YYYY-MM-DD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 37\n    }\n  }, ProductCreatedDate)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    size: \"sm\",\n    onClick: () => editing ? SaveProduct(_id) : EditProduct(_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, editing === false ? 'Edit Price' : 'Save')), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-danger\",\n    size: \"sm\",\n    onClick: () => deleteProduct(_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }, \"Remove\")))))));\n};\n\nexport default Products;","map":{"version":3,"sources":["/Users/akinyemi/Desktop/tazwizinc/client/src/components/Products.js"],"names":["React","useContext","useState","ProductContext","Container","Button","Table","AddProduct","MenuBar","Moment","axios","Products","productInfo","setProductInfo","name","setName","price","setPrice","editing","SetEditing","product","setProduct","deleteProduct","id","delete","then","res","console","log","catch","err","error","SaveProduct","pID","patch","ProductPrice","EditProduct","toString","map","_id","productName","ProductDescription","ProductCreatedDate","e","target","innerText"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\nimport {ProductContext} from '../context/ProductContext'\nimport {Container,Button, Table} from 'react-bootstrap'\nimport AddProduct from '../components/AddProduct';\nimport MenuBar from '../components/MenuBar';\nimport Moment from 'react-moment';\nimport axios from 'axios'\nconst Products = () => {\n   const [productInfo, setProductInfo] = useState({})\n   const [name, setName] = useState('');\n   const [price, setPrice] = useState('');  \n   const [editing, SetEditing] = useState(false)\n   const [product, setProduct] = useContext(ProductContext)\n\n    //delete product when remove is clicked\n   const deleteProduct = (id) => {\n       axios.delete('/api/products/'+id)\n            .then(res => {\n                console.log(res)\n            })\n            .catch(err =>{ \n                console.error(err);\n        })\n    }\n\n    //save the data once the save button is clicked\n    const SaveProduct = (pID) => {\n        SetEditing(false);\n        console.log()\n        if(price != ''){\n            axios.patch('/api/products/'+ pID, {ProductPrice: price})\n            .then(res => { \n                console.log(res)\n            })\n            .catch(err => console.log(err))\n            \n         }\n        }\n\n     //sets edit mode\n    const EditProduct = (id) => {\n        SetEditing( editing => !editing);\n     }\n\n    return (\n        <Container className=\"container\" id=\"dataDiv\" fluid>\n             <MenuBar />\n             <div>\n                 <h2 className=\"pb-2\">Add Product</h2>\n                <AddProduct />\n             </div>\n             <h2 className=\"pt-5\">Products</h2>\n             <p>Edit mode {editing.toString()} </p>\n            <Table Table striped hover className=\"mb-0\">\n                <thead>\n                    <tr>\n                        <th>ProductName</th>\n                        <th>ProductPrice (CAD)</th>\n                        <th>ProductDescription</th>\n                        <th>ProductCreatedDate</th>\n                        <th>Update</th>\n                        <th>Delete</th>\n                    </tr>\n                </thead>\n                {product.map(({_id, productName, ProductPrice, ProductDescription, ProductCreatedDate}) => (\n                    <tbody key={_id}>\n                        <tr> \n                            <td contenteditable={editing} onInput={(e) => setName(e.target.innerText)} >\n                                {productName}\n                            </td>\n                            <td onInput={(e) => setPrice(e.target.innerText)}>\n                                    <input value ={price} type={\"number\"} onChange={(e) => setPrice(e.target.price)}/>\n                                {/* {ProductPrice} */}\n                            </td>\n                            <td>\n                                {ProductDescription}\n                            </td>\n                            <td>\n                                    <Moment format=\"YYYY-MM-DD\">{ProductCreatedDate}</Moment> \n                            </td>\n                            <td>\n                                <Button variant=\"outline-primary\" size=\"sm\" onClick={() => editing ? SaveProduct(_id): EditProduct(_id)}>\n                                   { editing === false ?  'Edit Price': 'Save' }\n                                </Button>\n                            </td>\n                            <td>\n                                <Button variant=\"outline-danger\" size=\"sm\" onClick={() => deleteProduct(_id)}>\n                                    Remove\n                                </Button>\n                            </td>\n                        </tr>\n                    </tbody>                                \n                ))}\n            </Table>\n        </Container>\n  \n    )\n}\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}