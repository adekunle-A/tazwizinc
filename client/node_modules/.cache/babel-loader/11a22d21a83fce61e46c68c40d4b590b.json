{"ast":null,"code":"import _slicedToArray from\"/Users/akinyemi/Desktop/tazwizinc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,createContext}from'react';import axios from'axios';import{Redirect}from'react-router-dom';export var ProductContext=createContext();export var ProductProvider=function ProductProvider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];//fetch products infromation from the database\nvar getProducts=function getProducts(){axios.get('/api/products',{headers:{'authtoken':localStorage.getItem('authToken')}}).then(function(res){setProduct(res.data);}).catch(function(err){return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/\",state:{from:props.location}}});console.error(err.status);});};useEffect(function(){getProducts();});return/*#__PURE__*/React.createElement(ProductContext.Provider,{value:[product,setProduct]},props.children);};export default ProductProvider;","map":{"version":3,"sources":["/Users/akinyemi/Desktop/tazwizinc/client/src/context/ProductContext.js"],"names":["React","useState","useEffect","createContext","axios","Redirect","ProductContext","ProductProvider","props","product","setProduct","getProducts","get","headers","localStorage","getItem","then","res","data","catch","err","pathname","state","from","location","console","error","status","children"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAmCC,aAAnC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,MAAO,IAAMC,CAAAA,cAAc,CAAGH,aAAa,EAApC,CAEP,MAAO,IAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,eACJP,QAAQ,CAAC,EAAD,CADJ,wCAC3BQ,OAD2B,eAClBC,UADkB,eAEpC;AACD,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACrBP,KAAK,CAACQ,GAAN,CAAU,eAAV,CAA0B,CAACC,OAAO,CAAE,CAAC,YAAaC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd,CAAV,CAA1B,EACMC,IADN,CACW,SAAAC,GAAG,CAAI,CACVP,UAAU,CAACO,GAAG,CAACC,IAAL,CAAV,CACF,CAHN,EAGQC,KAHR,CAGc,SAAAC,GAAG,CAAG,CACR,mBAAO,oBAAC,QAAD,EAAU,EAAE,CACf,CACIC,QAAQ,CAAC,GADb,CAEIC,KAAK,CACL,CACIC,IAAI,CAAEf,KAAK,CAACgB,QADhB,CAHJ,CADG,EAAP,CASHC,OAAO,CAACC,KAAR,CAAcN,GAAG,CAACO,MAAlB,EACH,CAdN,EAeH,CAhBF,CAkBCzB,SAAS,CAAC,UAAM,CACZS,WAAW,GACd,CAFQ,CAAT,CAID,mBACK,oBAAC,cAAD,CAAgB,QAAhB,EAAyB,KAAK,CAAE,CAACF,OAAD,CAASC,UAAT,CAAhC,EACKF,KAAK,CAACoB,QADX,CADL,CAKF,CA9BM,CA+BN,cAAgBrB,CAAAA,eAAhB","sourcesContent":["import React, {useState, useEffect,createContext} from 'react'\nimport axios from 'axios'\nimport {Redirect} from 'react-router-dom'\nexport const ProductContext = createContext();\n\nexport const ProductProvider = props => {\n      const [product, setProduct] = useState([]);\n    //fetch products infromation from the database\n   const getProducts = () => {\n        axios.get('/api/products',{headers: {'authtoken': localStorage.getItem('authToken')}})\n             .then(res => {\n                setProduct(res.data)\n             }).catch(err =>{ \n                    return <Redirect to={\n                        {\n                            pathname:\"/\",\n                            state:\n                            {\n                                from: props.location\n                            }\n                        }\n                    }/>\n                 console.error(err.status);\n             })\n    }\n\n    useEffect(() => {\n        getProducts();\n    });\n\n   return (\n        <ProductContext.Provider value={[product,setProduct]}>\n            {props.children}\n        </ProductContext.Provider>  \n   )\n}\n export default  ProductProvider;\n"]},"metadata":{},"sourceType":"module"}